<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset=utf-8/>
    <title>GM-N. Carolina</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
    
    <!--Scripts-->
    <script src='./scripts/stateData.js'></script>
    <script src='./scripts/NC.js'></script>
    <script src='./scripts/leaflet.ajax.min.js'></script>
    <script src='./scripts/functions.js'></script>

    <script src='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>

    <!--Links-->
    <link href='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.css' rel='stylesheet'/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="Content/Site.css">
    
</head>
<body>

<!--Navbar-->
 <nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
                <a class="navbar-brand my-navbar-brand"> GerryMender N. Carolina </a>
         </div>
        <a class="text-white navbar-brand toggle-btn" data-toggle="tooltip" data-placement="bottom"
            title="open/close function menu" onclick="toggleSlider()">Menu <span
                class="glyphicon glyphicon-align-justify"></span></a>
        <a class="text-white navbar-brand" data-toggle="tooltip" data-placement="bottom" title="return back to homepage"
            href="Homepage.html" style = "float: right">Back</a>
    </div>
 </nav>

 <!--Map Container-->
<div id="map-container">
        <!--Sliding Menu-->
        <div class = "slide-menu" id="slide-menu">
        <!--Tabs-->
            <div class="tab">
                <button class="tablinks" onclick="openTab(event, 'Help')">Help!</button>
                <button class="tablinks" onclick="openTab(event, 'Data')" >Data</button>
                <button class="tablinks" onclick="openTab(event, 'Bloc')">Bloc?</button>
                <button class="tablinks" onclick="openTab(event, 'GM')" >Gerrymend</button>
              </div>

            <!-- Tab content -->
            <div id="Help" class="tabcontent">
                    <div class = "tab_header">Need Help?</div><br></br>
                        <h4>•Data: The data tab shows the currently selected state's election data.</h4><br></br>
                        <h4>•Bloc?: The bloc tab determines if any demographics in this state's precincts are voting as a bloc.</h4><br></br>
                        <h4>•Gerrymend: The Gerrymend tab redraws district lines to maximize the number of Minority-Majority Districts.</h4><br></br>
            </div>
            <div id="Data" class="tabcontent">
                    <div class = "tab_header">Data Displayed</div><br></br>
                    <form>
                        <div class="custom-control custom-radio custom-control-inline">
                                    <input type="radio" class="custom-control-input" id="2016P" name="example" value="customEx" checked = "true">
                                    <label class="custom-control-label" for="2016P" style="color: white;">2016 Presidential Election</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" class="custom-control-input" id="2016C" name="example" value="customEx">
                            <label class="custom-control-label" for="2016C" style="color: white;">2016 Congressional Election</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="2018C" name="example" value="customEx">
                                <label class="custom-control-label" for="2018C" style="color: white;">2018 Congressional Election</label>
                        </div>
                    </form><br></br>
                    <div class = "tab_subheader">State Information</div>
                    <p>((Here shall be the state info table: Winning Party, Votes for Party, Total Votes, percentage))</p><br><br>
                    <p>((potentially links to state guidelines, incumbent info, and statewide patterns))</p>

            </div>
            <div id="Bloc" class="tabcontent">
                    <div class = "tab_header">Calculate Voting Blocs</div><br></br>
                    <div class = "tab_subheader">Please Input Values Below:<br></br></div>
                    <form style="overflow: hidden; ">
                            Population % Threshold:
                            <input type="number" name="popThresh" style = "width: 50px; color: black; float: right;"><br></br>
                            Voting % Threshold: 
                            <input type="number" name="voteThresh"  style = "width: 50px;  color: black; float: right;"><br></br>
                    </form>
                    <button class = "button" style="display: block; margin: 0 auto;">Calculate</button><br></br>
                    <div class = "tab_subheader">Output:</div><br></br>
                            <p>((Displays the output table, or "No Blocs Found"))</p>
            </div>
            <div id="GM" class="tabcontent">
                    <div class = "tab_header">Gerrymend</div><br></br>
            </div>
            
            <!--Algorithms
            <form>
                <h4 style="color: deepskyblue">Algorithm Selection</h4>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="gpAL" name="example" value="customEx">
                    <label class="custom-control-label" for="gpAL" style="color: white">Graph Partitioning</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="saAL" name="example" value="customEx">
                    <label class="custom-control-label" for="saAL" style="color: white">Simulated Annealing</label>
                </div>
            </form>-->
        
            <!--Algorithm Controls-->
            
        </div>
    
        <!--Map-->
        <div id="map"></div>
    
        <!--Information Slider-->
        <div class = "slide-info" id="slide-info">
             <h3>Information</h3>
             <!-- -->
                <script id="itemTemplate" type="text/x-jquery-tmpl">
                <tr>
                    <td width="30%">${Attr}</td>
                    <td width="70%">${Amout}</td>
                </tr>
            </script>
            <!-- -->
                <table class="table" id="itemList">
                    <thead>
                    <tr>
    
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <input type="button" class="button" onclick="closeInfo()" value="Close">
            </div>
    </div>

<script>
/*Variables*/
L.mapbox.accessToken = 'pk.eyJ1IjoidnF1aW50MjMiLCJhIjoiY2sxMTF0azJhMDFyODNncGJhaW1veG51ayJ9.CvreiQri97EaLXDEP5ahcA';
var mapboxAccessToken = 'pk.eyJ1IjoidnF1aW50MjMiLCJhIjoiY2sxMTF0azJhMDFyODNncGJhaW1veG51ayJ9.CvreiQri97EaLXDEP5ahcA';

//Map
var map = L.mapbox.map('map')
    .setView([35, -80], 7.1)
    .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/streets-v11'));
 map.zoomControl.setPosition('topleft');
 //map.dragging.disable()

//Popups
var popup1;

//Sliders
var sliderState = 0;
var infoStat = "null";

/*geoJson Manipulation*/
L.geoJson(ncLayer, {
    style: function (feature) {
        return {color:'black', fillColor: district_color.get(feature.properties.DISTRICT), weight:1, opacity: 0.8, fillOpacity: 0.5};
    },
    onEachFeature: onEachFeature,
}).addTo(map);
 </script>
</body>
</html>