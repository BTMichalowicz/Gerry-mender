<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset=utf-8/>
    <title>GM-N. Carolina</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
    
    <!--Scripts-->
    <script src='./scripts/stateData.js'></script>
    <script src='./scripts/NC.js'></script>
    <script src='./scripts/leaflet.ajax.min.js'></script>
    <script src='./scripts/functions.js'></script>

    <script src='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>

    <!--Links-->
    <link href='https://api.mapbox.com/mapbox.js/v3.2.0/mapbox.css' rel='stylesheet'/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="Content/Site.css">
    

</head>
<body>

<!--Navbar-->
 <nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
                <a class="navbar-brand my-navbar-brand"> GerryMender N. Carolina </a>
         </div>
        <a class="text-white navbar-brand toggle-btn" data-toggle="tooltip" data-placement="bottom"
            title="open/close function menu" onclick="toggleSlider()">Menu <span
                class="glyphicon glyphicon-align-justify"></span></a>
        <a class="text-white navbar-brand" data-toggle="tooltip" data-placement="bottom" title="return back to homepage"
            href="Homepage.html" style = "float: right">Back</a>
    </div>
 </nav>

 <!--Map Container-->
<div id="map-container">
        <!--Sliding Menu-->
        <div class = "slide-menu" id="slide-menu">
    
            <h3>Objective Function Controls</h3>
            <!--Majority Threshold-->
            <input type="checkbox" name="Maj" value="Maj"> Majority Threshold: <span id="majslider_value"></span>
            <br>
            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="0" class="maj-slider" id="majThreshold" onchange="show_value(this.value, 'majslider_value');">
            </div><br>
    
            <!--Minority Threshold-->
            <input type="checkbox" name="Min" value="Min">  Minority Threshold: <span id="minslider_value"></span>
            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="0" class="slider" id="minThreshold" onchange="show_value(this.value, 'minslider_value');">
            </div><br>
    
            <!--Population Equality-->
            <input type="checkbox" name="Pop" value="Pop">  Population Equality: <span id="popslider_value"></span> <br>
            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="0" class="slider" id="pplEquality" onchange="show_value(this.value,'popslider_value');">
            </div><br>
    
            <!--Compactness-->
            <input type="checkbox" name="Compactness" value="Compactness">  Compactness: <span id="compactslider_value"></span> <br>
            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="0" class="slider" id="compactness" onchange="show_value(this.value, 'compactslider_value');">
            </div><br>
    
            <!--Algorithms-->
            <form>
                <h4 style="color: deepskyblue">Algorithm Selection</h4>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="gpAL" name="example" value="customEx">
                    <label class="custom-control-label" for="gpAL" style="color: white">Graph Partitioning</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="saAL" name="example" value="customEx">
                    <label class="custom-control-label" for="saAL" style="color: white">Simulated Annealing</label>
                </div>
            </form>
    
            <!--Data-->
            <form>
                <h4 style="color: deepskyblue">Data Selection</h4>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="2016D" name="example" value="customEx">
                    <label class="custom-control-label" for="2016D" style="color: white">2016 election result</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" class="custom-control-input" id="2018D" name="example" value="customEx">
                    <label class="custom-control-label" for="2018D" style="color: white">2018 election result</label>
                </div>
            </form>
    
            <!--Algorithm Controls-->
            <div class = "algorithm-controls">Algorithm Controls<br>
                <button type = "button" id ="play-button">PLAY </button>
                <button type = "button" id ="-button">PAUSE </button>
                <button type = "button" id ="stop-button">STOP </button>
                    <button type = "button" id ="replay-button">REPLAY </button>
            </div>
        </div>
    
        <!--Map-->
        <div id="map"></div>
    
        <!--Information Slider-->
        <div class = "slide-info" id="slide-info">
             <h3>Information</h3>
             <!-- -->
                <script id="itemTemplate" type="text/x-jquery-tmpl">
                <tr>
                    <td width="30%">${Attr}</td>
                    <td width="70%">${Amout}</td>
                </tr>
            </script>
            <!-- -->
                <table class="table" id="itemList">
                    <thead>
                    <tr>
    
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
                <input type="button" class="button" onclick="closeInfo()" value="Close">
            </div>
    </div>

<script>
/*Variables*/
L.mapbox.accessToken = 'pk.eyJ1IjoidnF1aW50MjMiLCJhIjoiY2sxMTF0azJhMDFyODNncGJhaW1veG51ayJ9.CvreiQri97EaLXDEP5ahcA';
var mapboxAccessToken = 'pk.eyJ1IjoidnF1aW50MjMiLCJhIjoiY2sxMTF0azJhMDFyODNncGJhaW1veG51ayJ9.CvreiQri97EaLXDEP5ahcA';

//Map
var map = L.mapbox.map('map')
    .setView([35, -80], 7.1)
    .addLayer(L.mapbox.styleLayer('mapbox://styles/mapbox/streets-v11'));
 map.zoomControl.setPosition('topleft');
 //map.dragging.disable()

//Popups
var popup1;

//Sliders
var sliderState = 0;
var infoStat = "null";

/*geoJson Manipulation*/
L.geoJson(ncLayer, {
    style: function (feature) {

        return {color:'black', fillColor: district_color.get(feature.properties.DISTRICT), weight:1, opacity: 0.8, fillOpacity: 0.5};


    },
    onEachFeature: onEachFeature,
}).addTo(map);
 </script>
</body>
</html>